plugins {
    id 'java'
    id 'maven'
    id 'java-library'
    id 'application'
    id 'idea'
}

group = 'local'
version = '1.0-SNAPSHOT'

// Required for shadow JAR but we don't use it
mainClassName = 'not-necessary'

sourceCompatibility = 8
targetCompatibility = 8

def gradleDependencyVersion = '6.7'

wrapper {
    gradleVersion = gradleDependencyVersion
    distributionType = Wrapper.DistributionType.ALL
}

repositories {
    mavenCentral()
    maven { url = "https://jitpack.io" }
    maven { url = "https://repo.gradle.org/gradle/libs-releases-local/" }
}

def awsLambdaJavaCoreVersion = '1.2.1'
def awsLambdaJavaLog4jVersion = '1.0.1'
def vavrVersion = '0.10.3'
def junitVersion = '4.13.1'
def awsCdkConstructsForJavaVersion = '0.1.0'

dependencies {
    annotationProcessor "com.google.auto.service:auto-service:1.0-rc7"
    api "com.google.auto.service:auto-service-annotations:1.0-rc7"
    api "javax.servlet:javax.servlet-api:4.0.1"

    api "com.amazonaws:aws-lambda-java-core:$awsLambdaJavaCoreVersion"
    api "com.amazonaws:aws-lambda-java-log4j:$awsLambdaJavaLog4jVersion"
    api "org.glassfish.jersey.containers:jersey-container-servlet:3.0.0"
    implementation "com.github.aws-samples:aws-cdk-constructs-for-java:$awsCdkConstructsForJavaVersion"

    implementation "com.squareup:javapoet:1.13.0"
    implementation "io.vavr:vavr:$vavrVersion"

    testImplementation "junit:junit:$junitVersion"
}
